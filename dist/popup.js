(()=>{"use strict";({534:function(){var t=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,l){function s(t){try{d(o.next(t))}catch(t){l(t)}}function c(t){try{d(o.throw(t))}catch(t){l(t)}}function d(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}d((o=o.apply(t,e||[])).next())}))};document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("toggle-create"),n=document.getElementById("toggle-import"),o=document.getElementById("create-view"),a=document.getElementById("import-view"),l=document.getElementById("output"),s=document.getElementById("create-wallet"),c=document.getElementById("import-wallet"),d=document.getElementById("wallet-name"),r=document.getElementById("create-error"),i=document.getElementById("import-error");function m(t){o.style.display=t?"block":"none",a.style.display=t?"none":"block",l.textContent="",document.querySelectorAll("input").forEach((t=>{t.value=""})),r.textContent="",i.textContent=""}e.addEventListener("click",(()=>m(!0))),n.addEventListener("click",(()=>m(!1))),s.addEventListener("click",(()=>t(void 0,void 0,void 0,(function*(){const t=d.value.trim(),e=document.getElementById("wallet-password").value;if(""!==t&&""!==e){r.textContent="";try{const n=yield fetch("http://localhost:3000/create_bittensor_wallet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t}),mode:"cors"}),o=yield n.text(),a=JSON.parse(o);if(a.success){chrome.storage.local.set({[`wallet-password-${t}`]:e}),l.innerHTML=`\n          <p><strong>Coldkey Address:</strong> ${a.wallet.coldkey_address}</p>\n          <p><strong>Hotkey Address:</strong> ${a.wallet.hotkey_address}</p>\n          <p><strong>Mnemonic:</strong> \n            <span id="mnemonic-text" style="filter: blur(6px); user-select: none;">${a.wallet.hotkey_mnemonic}</span>\n            <button id="copy-mnemonic" class="copy-btn" disabled>\n              <i class="fas fa-clipboard"></i>\n            </button>\n          </p>\n          <input type="password" id="mnemonic-password" placeholder="Enter password to unlock" />\n          <button id="unlock-btn">Unlock</button>\n        `;const n=document.getElementById("copy-mnemonic"),o=document.getElementById("mnemonic-text"),s=document.getElementById("mnemonic-password");document.getElementById("unlock-btn").addEventListener("click",(()=>{chrome.storage.local.get(`wallet-password-${t}`,(e=>{const a=e[`wallet-password-${t}`];s.value===a?(o.setAttribute("style","filter: none;"),n.disabled=!1,alert("Mnemonic unlocked!")):alert("Incorrect password.")}))})),n.addEventListener("click",(()=>{const t=o.textContent||"";navigator.clipboard.writeText(t).then((()=>{alert("Mnemonic copied to clipboard!")})).catch((t=>{console.error("Error copying text: ",t)}))}))}else r.textContent="Wallet creation failed."}catch(t){r.textContent="Error: "+(t instanceof Error?t.message:"Something went wrong.")}}else r.textContent="Wallet name and password cannot be empty."})))),c.addEventListener("click",(()=>{const t=document.getElementById("wallet-name-import").value.trim(),e=document.getElementById("wallet-mnemonic").value.trim(),n=document.getElementById("wallet-password-import").value;t&&e&&n?12===e.split(/\s+/).length?chrome.storage.local.set({[`wallet-mnemonic-${t}`]:e,[`wallet-password-${t}`]:n},(()=>{i.textContent="",document.getElementById("wallet-name-import").value="",document.getElementById("wallet-mnemonic").value="",document.getElementById("wallet-password-import").value="",l.innerHTML=`\n        <p><strong>Wallet Imported Successfully!</strong></p>\n        <p>Welcome to your wallet, <strong>${t}</strong>.</p>\n\n        <div class="wallet-balance">\n          <p><strong>Balance:</strong> 42.1337 TAO</p>\n        </div>\n\n        <div class="transaction-history">\n          <p><strong>Transaction History:</strong></p>\n          <ul>\n            <li>\n              <span class="tx-date">2025-05-10</span>\n              <span class="tx-action">Received</span>\n              <span class="tx-amount">+5.0000 TAO</span>\n              <span class="tx-party">From: Validator X</span>\n            </li>\n            <li>\n              <span class="tx-date">2025-05-09</span>\n              <span class="tx-action">Sent</span>\n              <span class="tx-amount">-1.2500 TAO</span>\n              <span class="tx-party">To: Node Y</span>\n            </li>\n            <li>\n              <span class="tx-date">2025-05-08</span>\n              <span class="tx-action">Received</span>\n              <span class="tx-amount">+10.0000 TAO</span>\n              <span class="tx-party">From: Subtensor"</span>\n            </li>\n          </ul>\n        </div>\n      `})):i.textContent="Mnemonic must be exactly 12 words.":i.textContent="All fields are required."})),d.addEventListener("input",(()=>{""!==d.value.trim()&&(r.textContent="")})),document.getElementById("wallet-password-import").addEventListener("input",(()=>{""!==document.getElementById("wallet-password-import").value&&(r.textContent="")})),document.getElementById("wallet-name").addEventListener("input",(()=>{i.textContent=""})),document.getElementById("wallet-mnemonic").addEventListener("input",(()=>{i.textContent=""})),document.getElementById("wallet-password").addEventListener("input",(()=>{i.textContent=""}))}))}})[534]()})();